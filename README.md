# WP Ajax Requests
Library to handle ajax requests made in WordPress

It handles communication with WordPress, security checks and data output giving the option to choose output type.

### Usage

### Usage

This library includes an autoload file generated by composer to autolad all the required classes.
You just need to include the autoload file.

For example in a plugin.

```
require_once plugin_dir_path( __FILE__ ) . 'wp-ajax-requests/vendor/autoload.php';

```

```
function add_requests() {

    $security = new Security( 'my_nonce', 'manage_options' );
    $data_handler = new DataHandler( new WPAjax\Output\Json() );

     $args = array(
        'action'     => 'my_action',
        'callback'   => 'my_callback',
        );

    new WPAjaxRequest( $args, $security, $data_handler);
}
```

Callback function will be fired if all the security checks pass correctly.

```
function my_callback( $data ) {
    // do stuff
    echo $data;
}

```